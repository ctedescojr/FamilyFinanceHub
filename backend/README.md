[English](#english) | [Português](#português)

---

<a name="english"></a>

# Backend Setup with Django and `uv`

This directory contains the source code for the Django backend, which is containerized with Docker and uses `uv` for package management. `uv` is a fast, modern Python package manager that serves as a combined `pip` and `venv` replacement, simplifying dependency management and improving performance.

### Key Technologies

- **Framework:** Django, Django Rest Framework
- **Package Manager:** `uv`
- **Database:** PostgreSQL (managed by Docker Compose)
- **WSGI Server:** Gunicorn
- **Containerization:** Docker

### Project Structure and Key Files

-   **`Dockerfile`**: Defines the multi-stage Docker build process. It leverages `uv` to install dependencies in a builder stage and creates a lean final image for production.
-   **`pyproject.toml`**: The primary file for defining project metadata and dependencies, replacing the traditional `requirements.txt`. `uv` reads this file to manage packages.
-   **`uv.lock`**: A lock file generated by `uv` that pins the exact versions of all dependencies, ensuring deterministic builds.
-   **`entrypoint.sh`**: A script that runs when the container starts. It waits for the database to be ready, runs migrations, and can be used to automate other setup tasks.
-   **`main.py`**: A placeholder file, not used in the Django project.
-   **`.python-version`**: Specifies the Python version for the project, which is `3.14.1`.

### Local Development with `uv`

While the project is fully containerized, you can also set up a local development environment using `uv` to leverage IDE features like linting, autocompletion, and debugging.

#### Prerequisites

-   Python 3.14.1 or higher
-   `uv` installed on your local machine.

#### Setup Steps

1.  **Create Virtual Environment and Install Dependencies:**
    Navigate to the `backend` directory. When you run `uv pip sync` for the first time, `uv` will automatically create a virtual environment in the `.venv` directory and then install all the dependencies specified in the `pyproject.toml` and `uv.lock` files.

    ```bash
    # From the backend/ directory
    uv pip sync
    ```

2.  **Activate the Virtual Environment:**
    To use the new environment for local development (e.g., running `django-admin` commands or using your IDE's integrations), you need to activate it:

    ```bash
    # On macOS/Linux
    source .venv/bin/activate

    # On Windows
    .venv\Scripts\activate
    ```

    Now your local environment is ready. Your IDE will be able to recognize the installed packages, providing a much-improved development experience.

### Docker Usage

The backend service is managed by the `docker-compose.yml` files in the root directory.

-   **Development:** To start the backend along with all other services, run `docker-compose up` from the root directory. The `Dockerfile` uses `uv` to run the Gunicorn server.
-   **Production:** The `docker-compose.prod.yml` is configured for production use, creating an optimized and secure deployment.

---

<a name="português"></a>

# Configuração do Backend com Django e `uv`

Este diretório contém o código-fonte do backend Django, que é containerizado com Docker e usa o `uv` para o gerenciamento de pacotes. O `uv` é um gerenciador de pacotes Python rápido e moderno que substitui o `pip` e o `venv`, simplificando o gerenciamento de dependências e melhorando o desempenho.

### Principais Tecnologias

-   **Framework:** Django, Django Rest Framework
-   **Gerenciador de Pacotes:** `uv`
-   **Banco de Dados:** PostgreSQL (gerenciado pelo Docker Compose)
-   **Servidor WSGI:** Gunicorn
-   **Containerização:** Docker

### Estrutura do Projeto e Arquivos Principais

-   **`Dockerfile`**: Define o processo de build do Docker em múltiplos estágios. Ele utiliza o `uv` para instalar as dependências em um estágio de "builder" e cria uma imagem final enxuta para produção.
-   **`pyproject.toml`**: O arquivo principal para definir os metadados e as dependências do projeto, substituindo o tradicional `requirements.txt`. O `uv` lê este arquivo para gerenciar os pacotes.
-   **`uv.lock`**: Um arquivo de "lock" gerado pelo `uv` que fixa as versões exatas de todas as dependências, garantindo builds determinísticos.
-   **`entrypoint.sh`**: Um script que é executado quando o contêiner inicia. Ele aguarda o banco de dados ficar pronto, executa as migrações e pode ser usado para automatizar outras tarefas de configuração.
-   **`main.py`**: Um arquivo de placeholder, não utilizado no projeto Django.
-   **`.python-version`**: Especifica a versão do Python para o projeto, que é `3.14.1`.

### Desenvolvimento Local com `uv`

Embora o projeto seja totalmente containerizado, você também pode configurar um ambiente de desenvolvimento local usando o `uv` para aproveitar os recursos da sua IDE, como linting, autocompletion e debugging.

#### Pré-requisitos

-   Python 3.14.1 ou superior
-   `uv` instalado na sua máquina local.

#### Passos para Configuração

1.  **Crie o Ambiente Virtual e Instale as Dependências:**
    Navegue até o diretório `backend`. Ao executar `uv pip sync` pela primeira vez, o `uv` irá automaticamente criar um ambiente virtual no diretório `.venv` e, em seguida, instalar todas as dependências especificadas nos arquivos `pyproject.toml` e `uv.lock`.

    ```bash
    # A partir do diretório backend/
    uv pip sync
    ```

2.  **Ative o Ambiente Virtual:**
    Para usar o novo ambiente para desenvolvimento local (por exemplo, para executar comandos `django-admin` ou usar as integrações da sua IDE), você precisa ativá-lo:

    ```bash
    # Em macOS/Linux
    source .venv/bin/activate

    # Em Windows
    .venv\Scripts\activate
    ```

    Agora seu ambiente local está pronto. Sua IDE será capaz de reconhecer os pacotes instalados, proporcionando uma experiência de desenvolvimento muito melhor.

### Uso com Docker

O serviço de backend é gerenciado pelos arquivos `docker-compose.yml` no diretório raiz.

-   **Desenvolvimento:** Para iniciar o backend junto com todos os outros serviços, execute `docker-compose up` a partir do diretório raiz. O `Dockerfile` usa o `uv` para executar o servidor Gunicorn.
-   **Produção:** O `docker-compose.prod.yml` é configurado para uso em produção, criando um deploy otimizado e seguro.
